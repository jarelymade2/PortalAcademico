@model IEnumerable<PortalAcademico.Models.Curso>
@{
    ViewData["Title"] = "Panel Coordinador - Cursos";
}

<style>
    body {
        background-color: #f2f8fc; /* Fondo suave */
    }

    h2 {
        color: #004d73;
        font-weight: 600;
        text-align: center;
        margin-bottom: 1.5rem;
    }

    .card {
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        background-color: white;
    }

    .card-header {
        background: linear-gradient(90deg, #95c2d0, #b0d0e5);
        font-size: 1.1rem;
        font-weight: 500;
        border-bottom: none;
    }

    .card-header strong {
        letter-spacing: 0.5px;
    }

    .btn-light {
        background-color: #e6f3ff;
        color: #005580;
        border: none;
        transition: 0.2s ease;
    }

    .btn-light:hover {
        background-color: #d4ecff;
        color: #004466;
    }

    .table {
        margin-bottom: 0;
    }

    thead.table-info {
        background-color: #b3e0ff !important;
        color: #003d66;
        font-weight: 600;
    }

    tbody tr:hover {
        background-color: #f5fbff;
    }

    .badge {
        font-size: 0.9rem;
        padding: 0.4em 0.7em;
        border-radius: 8px;
    }

    .btn-sm {
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.2s ease-in-out;
    }

    .btn-outline-secondary {
        color: #5a5a5a;
        border-color: #b0b0b0;
    }

    .btn-outline-secondary:hover {
        background-color: #e9ecef;
        color: #333;
    }

    .btn-outline-info {
        color: #0099cc;
        border-color: #66c2ff;
    }

    .btn-outline-info:hover {
        background-color: #66c2ff;
        color: white;
    }

    .btn-outline-danger {
        color: #d9534f;
        border-color: #f1b0b0;
    }

    .btn-outline-danger:hover {
        background-color: #f8d7da;
        color: #b52b2b;
    }

    td, th {
        vertical-align: middle;
    }

    .text-muted {
        font-style: italic;
    }
</style>

<div class="container mt-4">
    <h2>@ViewData["Title"]</h2>

    <div class="card shadow-sm border-0">
        <div class="card-header text-white d-flex justify-content-between align-items-center">
            <span><strong>Cursos registrados</strong></span>
            <a class="btn btn-light btn-sm" asp-action="Crear">
                <i class="bi bi-plus-circle"></i> Crear curso
            </a>
        </div>

        <div class="card-body p-0">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-info">
                    <tr>
                        <th>Código</th>
                        <th>Nombre</th>
                        <th>Créditos</th>
                        <th>Cupo</th>
                        <th>Horario</th>
                        <th>Activo</th>
                        <th class="text-end">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="7" class="text-center text-muted p-4">
                                No hay cursos registrados.
                            </td>
                        </tr>
                    }
                    else
                    {
                        @foreach (var c in Model)
                        {
                            <tr>
                                <td>@c.Codigo</td>
                                <td>@c.Nombre</td>
                                <td>@c.Creditos</td>
                                <td>@c.CupoMaximo</td>
                                <td>@c.HorarioInicio.ToString(@"hh\:mm") - @c.HorarioFin.ToString(@"hh\:mm")</td>
                                <td>
                                    @if (c.Activo)
                                    {
                                        <span class="badge bg-success">Activo</span>
                                    }
                                    else
                                    {
                                        <span class="badge bg-secondary">Inactivo</span>
                                    }
                                </td>
                                <td class="text-end">
                                    <a class="btn btn-sm btn-outline-secondary me-1" asp-action="Editar" asp-route-id="@c.Id">
                                        <i class="bi bi-pencil"></i> Editar
                                    </a>
                                    <a class="btn btn-sm btn-outline-info me-1" asp-action="Matriculas" asp-route-cursoId="@c.Id">
                                        <i class="bi bi-people"></i> Matrículas
                                    </a>
                                    <form class="d-inline" asp-action="Desactivar" asp-route-id="@c.Id" method="post"
                                          onsubmit="return confirm('¿Seguro que deseas desactivar este curso?');">
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="bi bi-x-circle"></i> Desactivar
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
