@model IEnumerable<PortalAcademico.Models.Curso>
@using PortalAcademico.Dto
@{
    ViewData["Title"] = "Catálogo de cursos";
}

<style>
    body {
        background-color: #e6f3ff; /* Fondo celeste pastel */
    }

    h1 {
        color: #162d46;
        font-weight: 600;
        text-align: center;
        margin-bottom: 1.5rem;
    }

    .card-cursos {
        background: white;
        border: none;
        border-radius: 15px;
        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.1);
        padding: 1.5rem;
    }

    .btn-primary {
        background-color: #66b3ff;
        border-color: #66b3ff;
        font-weight: 500;
    }

    .btn-primary:hover {
        background-color: #4da6ff;
        border-color: #4da6ff;
    }

    .table {
        border-radius: 10px;
        overflow: hidden;
    }

    thead {
        background-color: #b3d9ff;
        color: #003366;
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f5faff;
    }

    .form-label {
        font-weight: 500;
        color: #005580;
    }

    .alert-danger {
        border-radius: 10px;
    }

    .btn-outline-primary {
        border-color: #66b3ff;
        color: #007bff;
    }

    .btn-outline-primary:hover {
        background-color: #66b3ff;
        color: white;
    }
</style>

<div class="container mt-4">
    <div class="card-cursos">
        <h1>Catálogo de cursos</h1>

        @if (TempData["Error"] is string e)
        {
            <div class="alert alert-danger">@e</div>
        }

        <form method="get" class="row gy-2 gx-3 align-items-end mb-3">
            <div class="col-md-3">
                <label class="form-label">Nombre</label>
                <input class="form-control shadow-sm" name="Nombre" value="@Context.Request.Query["Nombre"]" placeholder="Buscar curso..." />
            </div>
            <div class="col-md-2">
                <label class="form-label">Créditos mín</label>
                <input class="form-control shadow-sm" type="number" name="CreditosMin" value="@Context.Request.Query["CreditosMin"]" />
            </div>
            <div class="col-md-2">
                <label class="form-label">Créditos máx</label>
                <input class="form-control shadow-sm" type="number" name="CreditosMax" value="@Context.Request.Query["CreditosMax"]" />
            </div>
            <div class="col-md-2">
                <label class="form-label">Desde</label>
                <input class="form-control shadow-sm" type="time" name="HoraDesde" value="@Context.Request.Query["HoraDesde"]" />
            </div>
            <div class="col-md-2">
                <label class="form-label">Hasta</label>
                <input class="form-control shadow-sm" type="time" name="HoraHasta" value="@Context.Request.Query["HoraHasta"]" />
            </div>
            <div class="col-md-1 d-grid">
                <button class="btn btn-primary">Filtrar</button>
            </div>
        </form>

        <table class="table table-striped table-hover mt-3">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Nombre</th>
                    <th>Créditos</th>
                    <th>Horario</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var c in Model)
                {
                    <tr>
                        <td>@c.Codigo</td>
                        <td>@c.Nombre</td>
                        <td>@c.Creditos</td>
                        <td>@c.HorarioInicio.ToString(@"hh\:mm") - @c.HorarioFin.ToString(@"hh\:mm")</td>
                        <td>
                            <a class="btn btn-sm btn-outline-primary" asp-action="Detalle" asp-route-id="@c.Id">
                                Ver
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
